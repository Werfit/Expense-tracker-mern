(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{25:function(e,t,a){e.exports=a.p+"static/media/x.6a132b94.svg"},28:function(e,t,a){e.exports=a(61)},35:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(22),o=a.n(r),s=a(1),l=(a(35),a(23)),u=a(24),i=a(27),m=a(26),p=a(5),d=a.n(p),f=a(8),b=a(4),E=a(11),v=a(3),O=function(e,t){switch(t.type){case"GET":return console.log(t.payload),Object(v.a)(Object(v.a)({},e),{},{transactions:t.payload});case"DELETE":return Object(v.a)(Object(v.a)({},e),{},{transactions:e.transactions.filter((function(e){return e._id!==t.payload}))});case"ADD":return console.log(Object(v.a)(Object(v.a)({},e),{},{transactions:[t.payload].concat(Object(E.a)(e.transactions))})),Object(v.a)(Object(v.a)({},e),{},{transactions:[t.payload].concat(Object(E.a)(e.transactions))});case"ERROR":return Object(v.a)(Object(v.a)({},e),{},{error:t.payload});default:return e}},y=a(9),h=a.n(y),j={transactions:[],error:null},x=Object(n.createContext)(),k=function(e){var t=e.children,a=Object(n.useReducer)(O,j),r=Object(b.a)(a,2),o=r[0],s=r[1],l={headers:{"Content-type":"application/json"}};function u(){return(u=Object(f.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("/api/v1/transactions/",{userId:t},l);case 3:(a=e.sent).data.data&&s({type:"GET",payload:JSON.parse(a.data.data.transactions)}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s({type:"ERROR",payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function i(){return(i=Object(f.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.delete("/api/v1/transactions/".concat(t,"/").concat(a));case 3:s({type:"DELETE",payload:a}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),s({type:"ERROR",payload:e.t0.response.data.error});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function m(){return(m=Object(f.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("/api/v1/transactions/new-transaction",t,l);case 3:a=e.sent,s({type:"ADD",payload:a.data.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s({type:"ERROR",payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return c.a.createElement(x.Provider,{value:{transactions:o.transactions,getTransactions:function(e){return u.apply(this,arguments)},deleteTransaction:function(e,t){return i.apply(this,arguments)},addTransaction:function(e){return m.apply(this,arguments)}}},t)},g=(a(53),a(54),function(e){return c.a.createElement("div",{className:"expensesBlock"},c.a.createElement("div",{className:"amountOfMoney"},c.a.createElement("span",null,"Income"),c.a.createElement("p",{className:"earned"},"+\u20b4",e.transactions.reduce((function(e,t){return t.amount>0?e+t.amount:e}),0))),c.a.createElement("div",{className:"dividerBlock"}),c.a.createElement("div",{className:"amountOfMoney"},c.a.createElement("span",null,"Expense"),c.a.createElement("p",{className:"spent"},"-\u20b4",-e.transactions.reduce((function(e,t){return t.amount<0?e+t.amount:e<0?e:0}),0))))}),C=function(){var e=Object(n.useContext)(x).transactions;return c.a.createElement("header",null,c.a.createElement("div",{className:"expensesInfo"},c.a.createElement("h1",null,"\u20b4",e.reduce((function(e,t){return e+t.amount}),0)),c.a.createElement("p",null,"Records: ",e.length)),c.a.createElement(g,{transactions:e}))},N=(a(55),a(56),a(25)),T=a.n(N),w=function(e){var t=e.name,a=e.amount,r=e._id,o=Object(n.useState)(!1),l=Object(b.a)(o,2),u=l[0],i=l[1],m=Object(s.b)().user,p=Object(n.useContext)(x).deleteTransaction;return c.a.createElement("div",{className:"expenseBlock ".concat(u?"toClose":"")},c.a.createElement("div",{className:"removeItem",onClick:function(){i(!1),p(m.sub,r)}},c.a.createElement("img",{src:T.a,alt:"X"})),c.a.createElement("div",{className:"expenseItem__block ".concat(a>0?"incomeItem":"expenseItem"),onClick:function(){return i(!u)}},c.a.createElement("span",null,t.charAt(0).toUpperCase()+t.slice(1)),c.a.createElement("span",null,a>0?"+\u20b4".concat(a):"-\u20b4".concat(-a))))},A=["January","February","March","April","May","June","July","August","September","October","November","December"],R=function(){var e=Object(n.useContext)(x),t=e.transactions,a=e.getTransactions,r=Object(s.b)().user;Object(n.useEffect)((function(){r&&a(r.sub)}),[]);var o=[-1,-1];return c.a.createElement("div",{className:"historyBlock sectionBlock"},c.a.createElement("h2",null,"History"),c.a.createElement("div",{className:"expensesList"},t.map((function(e){var t=!1;return e.createdAt[0]===o[0]&&e.createdAt[1]===o[1]||(o=e.createdAt,t=!0),c.a.createElement("span",{key:e._id},c.a.createElement("h4",null,t?A[e.createdAt[0]]:""),c.a.createElement(w,{name:e.name,amount:e.amount,_id:e._id}))}))))},I=(a(57),function(){var e=Object(n.useContext)(x).addTransaction,t=Object(s.b)().user,a=Object(n.useState)(""),r=Object(b.a)(a,2),o=r[0],l=r[1],u=Object(n.useState)(""),i=Object(b.a)(u,2),m=i[0],p=i[1];return c.a.createElement("div",{className:"transactionBlock sectionBlock"},c.a.createElement("h2",null,"Transaction"),c.a.createElement("label",{htmlFor:"transactionText"},"Text"),c.a.createElement("input",{type:"text",name:"transactionText",id:"transactionText",placeholder:"Text...",value:o,onChange:function(e){return l(e.target.value)},autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false"}),c.a.createElement("label",{htmlFor:"transactionMoney"},"Amount"),c.a.createElement("input",{type:"number",name:"transcationMoney",id:"transactionMoney",placeholder:"Amount...",value:m,onChange:function(e){return p(e.target.value)}}),c.a.createElement("button",{onClick:function(a){return e({name:o,amount:+m,createdAt:[(new Date).getMonth(),(new Date).getFullYear()],userId:t.sub}),l(""),void p("")}},"Add Transaction"))}),B=(a(58),function(){var e=Object(s.b)().logout;return c.a.createElement("button",{className:"logOutButton",onClick:function(){return e()}},"Log Out")}),D=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(k,null,c.a.createElement(C,null),c.a.createElement(R,null),c.a.createElement(I,null),c.a.createElement(B,null)))}}]),a}(n.Component),M=(a(59),function(){var e=Object(s.b)().loginWithRedirect;return c.a.createElement("button",{className:"logInButton",onClick:function(){return e()}},"Log in")});var _=function(){return Object(s.b)().isAuthenticated?c.a.createElement("div",{className:"App"},c.a.createElement(D,null)):c.a.createElement(M,null)};a(60);o.a.render(c.a.createElement(s.a,{domain:"dev-a8wy4kcp.eu.auth0.com",clientId:"IKhTChtErhtCCEk8ZzaM5ESC2kgsoFOp",redirectUri:window.location.origin},c.a.createElement(_,null)),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.330268f0.chunk.js.map