(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{21:function(e,t,a){e.exports=a.p+"static/media/x.6a132b94.svg"},25:function(e,t,a){e.exports=a(55)},30:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c),s=(a(30),a(19)),l=a(20),u=a(24),i=a(22),m=a(4),p=a.n(m),d=a(7),f=a(3),E=a(23),v=a(2),b=function(e,t){switch(t.type){case"GET":return Object(v.a)(Object(v.a)({},e),{},{transactions:t.payload});case"DELETE":return Object(v.a)(Object(v.a)({},e),{},{transactions:e.transactions.filter((function(e){return e._id!==t.payload}))});case"ADD":return Object(v.a)(Object(v.a)({},e),{},{transactions:[t.payload].concat(Object(E.a)(e.transactions))});case"ERROR":return Object(v.a)(Object(v.a)({},e),{},{error:t.payload});default:return e}},y=a(8),h=a.n(y),O={transactions:[],error:null},j=Object(n.createContext)(),x=function(e){var t=e.children,a=Object(n.useReducer)(b,O),c=Object(f.a)(a,2),o=c[0],s=c[1];function l(){return(l=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("/api/v1/transactions/");case 3:t=e.sent,s({type:"GET",payload:t.data.data.reverse()}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s({type:"ERROR",payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function u(){return(u=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.delete("/api/v1/transactions/".concat(t));case 3:s({type:"DELETE",payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),s({type:"ERROR",payload:e.t0.response.data.error});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function i(){return(i=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-type":"application/json"}},e.prev=1,e.next=4,h.a.post("/api/v1/transactions/",t,a);case 4:n=e.sent,s({type:"ADD",payload:n.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s({type:"ERROR",payload:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return r.a.createElement(j.Provider,{value:{transactions:o.transactions,getTransactions:function(){return l.apply(this,arguments)},deleteTransaction:function(e){return u.apply(this,arguments)},addTransaction:function(e){return i.apply(this,arguments)}}},t)},k=(a(49),a(50),function(e){return r.a.createElement("div",{className:"expensesBlock"},r.a.createElement("div",{className:"amountOfMoney"},r.a.createElement("span",null,"Income"),r.a.createElement("p",{className:"earned"},"+\u20b4",e.transactions.reduce((function(e,t){return t.amount>0?e+t.amount:e}),0))),r.a.createElement("div",{className:"dividerBlock"}),r.a.createElement("div",{className:"amountOfMoney"},r.a.createElement("span",null,"Expense"),r.a.createElement("p",{className:"spent"},"-\u20b4",-e.transactions.reduce((function(e,t){return t.amount<0?e+t.amount:e<0?e:0}),0))))}),C=function(){var e=Object(n.useContext)(j).transactions;return r.a.createElement("header",null,r.a.createElement("div",{className:"expensesInfo"},r.a.createElement("h1",null,"\u20b4",e.reduce((function(e,t){return e+t.amount}),0)),r.a.createElement("p",null,"Records: ",e.length)),r.a.createElement(k,{transactions:e}))},T=(a(51),a(21)),N=a.n(T),g=function(e){var t=e.name,a=e.amount,c=e._id,o=Object(n.useState)(!1),s=Object(f.a)(o,2),l=s[0],u=s[1],i=Object(n.useContext)(j).deleteTransaction;return r.a.createElement("div",{className:"expenseBlock ".concat(l?"toClose":"")},r.a.createElement("div",{className:"removeItem",onClick:function(){u(!1),i(c)}},r.a.createElement("img",{src:N.a,alt:"X"})),r.a.createElement("div",{className:"expenseItem__block ".concat(a>0?"incomeItem":"expenseItem"),onClick:function(){return u(!l)}},r.a.createElement("span",null,t.charAt(0).toUpperCase()+t.slice(1)),r.a.createElement("span",null,a>0?"+\u20b4".concat(a):"-\u20b4".concat(-a))))},R=(a(52),["January","February","March","April","May","June","July","August","September","October","November","December"]),A=function(){var e=Object(n.useContext)(j),t=e.transactions,a=e.getTransactions;Object(n.useEffect)((function(){a()}),[]);var c=[-1,-1];return r.a.createElement("div",{className:"historyBlock sectionBlock"},r.a.createElement("h2",null,"History"),r.a.createElement("div",{className:"expensesList"},t.map((function(e){var t=!1;return e.createdAt[0]===c[0]&&e.createdAt[1]===c[1]||(c=e.createdAt,t=!0),r.a.createElement("span",{key:e._id},r.a.createElement("h4",null,t?R[e.createdAt[0]]:""),r.a.createElement(g,{name:e.name,amount:e.amount,_id:e._id}))}))))},w=(a(53),function(){var e=Object(n.useContext)(j),t=e.transactions,a=e.addTransaction,c=Object(n.useState)(""),o=Object(f.a)(c,2),s=o[0],l=o[1],u=Object(n.useState)(""),i=Object(f.a)(u,2),m=i[0],p=i[1];return r.a.createElement("div",{className:"transactionBlock sectionBlock"},r.a.createElement("h2",null,"Transaction"),r.a.createElement("label",{htmlFor:"transactionText"},"Text"),r.a.createElement("input",{type:"text",name:"transactionText",id:"transactionText",placeholder:"Text...",value:s,onChange:function(e){return l(e.target.value)},autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false"}),r.a.createElement("label",{htmlFor:"transactionMoney"},"Amount"),r.a.createElement("input",{type:"number",name:"transcationMoney",id:"transactionMoney",placeholder:"Amount...",value:m,onChange:function(e){return p(e.target.value)}}),r.a.createElement("button",{onClick:function(e){return a({id:t.length,name:s,amount:+m}),l(""),void p("")}},"Add Transaction"))}),B=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(x,null,r.a.createElement(C,null),r.a.createElement(A,null),r.a.createElement(w,null)))}}]),a}(n.Component);var M=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(B,null))};a(54);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(M,null)),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.c761553a.chunk.js.map