{"version":3,"sources":["components/Expense/x.svg","context/TransactionReducer.js","context/TransactionContext.js","components/Expenses/index.js","components/Header/index.js","components/Expense/index.js","components/History/index.js","components/Transaction/index.js","components/TrackerPage.js","App.js","index.js"],"names":["module","exports","state","action","type","transactions","payload","filter","transaction","_id","error","initialState","TransactionContext","createContext","TransactionProvider","children","useReducer","TransactionReducer","dispatch","a","axios","get","res","data","reverse","response","id","delete","config","headers","post","Provider","value","getTransactions","deleteTransaction","addTransaction","Expenses","props","className","reduce","prev","curr","amount","Header","useContext","length","Expense","name","useState","closeButtonState","setCloseButtonState","onClick","src","X","alt","charAt","toUpperCase","slice","monthsList","History","useEffect","lastDate","map","toShowDate","createdAt","key","Transaction","text","setText","money","setMoney","htmlFor","placeholder","onChange","e","target","autoComplete","autoCorrect","autoCapitalize","spellCheck","TrackerPage","Component","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c761553a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/x.6a132b94.svg\";","export default (state, action) => {\n    switch (action.type) {\n        case 'GET':\n            return {\n                ...state,\n                transactions: action.payload\n            }\n        case 'DELETE':\n            return {\n                ...state,\n                transactions: state.transactions.filter(transaction => transaction._id !== action.payload)\n            }\n        case 'ADD':\n            return {\n                ...state,\n                transactions: [\n                    action.payload,\n                    ...state.transactions\n                ]\n            }\n        case 'ERROR':\n            return {\n                ...state,\n                error: action.payload\n            }\n        default:\n            return state\n    }\n}","import React, { createContext, useReducer } from 'react'\nimport TransactionReducer from './TransactionReducer'\nimport axios from 'axios'\n\n// Transaction List\nconst initialState = {\n    transactions: [],\n    error: null\n}\n\nexport const TransactionContext = createContext()\n\nexport const TransactionProvider = ({ children }) => {\n    const [state, dispatch] = useReducer(TransactionReducer, initialState)\n\n    // Actions\n    async function getTransactions () {\n        try {\n            const res = await axios.get('/api/v1/transactions/')\n\n            dispatch({\n                type: 'GET',\n                payload: res.data.data.reverse()\n            })\n        } catch (err) {\n            dispatch({\n                type: 'ERROR',\n                payload: err.response.data.error\n            })\n        }\n    }\n\n    async function deleteTransaction (id) {\n        try {\n            await axios.delete(`/api/v1/transactions/${id}`)\n\n            dispatch({\n                type: 'DELETE',\n                payload: id\n            })\n        } catch (err) {\n            dispatch({\n                type: 'ERROR',\n                payload: err.response.data.error\n            })\n        }\n    }\n\n    async function addTransaction (transaction) {\n        const config = {\n            headers: {\n                'Content-type': 'application/json'\n            }\n        }\n\n        try {\n            const res = await axios.post('/api/v1/transactions/', transaction, config)\n\n            dispatch({\n                type: 'ADD',\n                payload: res.data.data\n            })\n        } catch (err) {\n            dispatch({\n                type: 'ERROR',\n                payload: err.response.data.error\n            })\n        }\n    }\n\n    return (\n        <TransactionContext.Provider value={{\n            transactions: state.transactions,\n            getTransactions,\n            deleteTransaction,\n            addTransaction\n        }}>\n            { children }\n        </TransactionContext.Provider>\n    )\n}","import React from 'react'\nimport './Expenses.css'\n\nexport const Expenses = (props) => {\n    return (\n        <div className=\"expensesBlock\">\n            <div className=\"amountOfMoney\">\n                <span>Income</span>\n                <p className=\"earned\">+₴{\n                        props.transactions.reduce((prev, curr) => {\n                            if (curr.amount > 0)\n                                    return prev + curr.amount\n                            return prev\n                        }, 0)\n                }</p>   \n            </div>\n            <div className=\"dividerBlock\"></div>\n            <div className=\"amountOfMoney\">\n                <span>Expense</span>\n                <p className=\"spent\">-₴{\n                    -props.transactions.reduce((prev, curr) => {\n                        if (curr.amount < 0)\n                            return prev + curr.amount\n                        return prev < 0 ? prev : 0\n                    }, 0)\n                }</p>\n            </div>\n        </div>\n    )\n}\n","import React, { useContext } from 'react'\nimport './Header.css'\n\nimport { Expenses } from '../Expenses'\n\n// Context Import\nimport { TransactionContext } from '../../context/TransactionContext'\n\nexport const Header = () => {\n    const { transactions } = useContext(TransactionContext)\n\n    return (\n        <header>\n            <div className=\"expensesInfo\">\n                <h1>₴{ transactions.reduce((prev, curr) => {\n                    return prev + curr.amount\n                }, 0) }</h1>\n                <p>Records: { transactions.length }</p>\n            </div>\n\n            <Expenses transactions={ transactions }/>\n        </header>\n    )\n}","import React, { useState, useContext } from 'react'\nimport './Expense.css'\nimport X from './x.svg'\n\n// Context Import\nimport { TransactionContext } from '../../context/TransactionContext'\n\nexport const Expense = ({ name, amount, _id }) => {\n    const [closeButtonState, setCloseButtonState] = useState(false)\n    const { deleteTransaction } = useContext(TransactionContext)\n\n    return (\n        <div className={`expenseBlock ${closeButtonState ? 'toClose' : ''}`} >\n            <div className=\"removeItem\" onClick={ () => {\n                setCloseButtonState(false)\n                deleteTransaction(_id)\n            }}>\n                <img src={X} alt=\"X\" />\n            </div>\n            <div className={`expenseItem__block ${(amount > 0) ? 'incomeItem' : 'expenseItem'}`} onClick={ () => setCloseButtonState(!closeButtonState) }>\n                <span>{ name.charAt(0).toUpperCase() + name.slice(1) }</span>\n                <span>{ amount > 0 ? `+₴${ amount }` : `-₴${ -amount }` }</span>\n            </div>\n        </div>\n    )\n}\n","import React, { useContext, useEffect } from 'react'\nimport { Expense } from '../Expense'\nimport './History.css'\n\n// Context Import\nimport { TransactionContext } from '../../context/TransactionContext'\n\n// Months\nconst monthsList = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n\nexport const History = () => {\n    const { transactions, getTransactions } = useContext(TransactionContext)\n\n    // eslint-disable-next-line\n    useEffect(() => {\n        getTransactions()\n    }, []) // It slows down when `getTransactions in here`\n\n    let lastDate = [-1, -1]\n\n    return (\n        <div className=\"historyBlock sectionBlock\">\n            <h2>History</h2>\n\n            <div className=\"expensesList\">\n                {\n                    transactions.map(transaction => {\n                        let toShowDate = false\n                        if (transaction.createdAt[0] !== lastDate[0] || transaction.createdAt[1] !== lastDate[1])\n                        {\n                            lastDate = transaction.createdAt\n                            toShowDate = true\n                        }\n\n                        return (\n                            <span key={transaction._id}>\n                                <h4>{ toShowDate ? monthsList[transaction.createdAt[0]] : '' }</h4>\n                                <Expense name={ transaction.name } amount={ transaction.amount } _id={ transaction._id } />\n                            </span>\n                        )\n                    })\n                }\n            </div>\n        </div>\n    )\n}\n","import React, { useState, useContext } from 'react'\nimport './Transaction.css'\n\n// Context Import\nimport { TransactionContext } from '../../context/TransactionContext'\n\nexport const Transaction = () => {\n    const { transactions, addTransaction } = useContext(TransactionContext)\n    const [text, setText] = useState('')\n    const [money, setMoney] = useState('')\n\n    const newTransaction = () => {\n        addTransaction({\n            id: transactions.length,\n            name: text,\n            amount: +money\n        })\n\n        setText('')\n        setMoney('')\n    }\n\n    return (\n        <div className=\"transactionBlock sectionBlock\">\n            <h2>Transaction</h2>\n\n            <label htmlFor=\"transactionText\">\n                Text\n            </label>\n            <input type=\"text\" name=\"transactionText\" id=\"transactionText\" placeholder=\"Text...\" value={ text } onChange={ e => setText(e.target.value) } autoComplete=\"off\" autoCorrect=\"off\" autoCapitalize=\"off\" spellCheck=\"false\" />\n\n            <label htmlFor=\"transactionMoney\">\n                Amount\n            </label>\n            <input type=\"number\" name=\"transcationMoney\" id=\"transactionMoney\" placeholder=\"Amount...\" value={ money } onChange={ e => setMoney(e.target.value) }/>\n\n            <button onClick={ e => newTransaction() }>Add Transaction</button>\n        </div>\n    )\n}\n","import React, { Component } from 'react'\n\n// Context Import\nimport { TransactionProvider } from '../context/TransactionContext'\n\n// Components Import\nimport { Header } from './Header'\nimport { History } from './History'\nimport { Transaction } from './Transaction'\n\nexport class TrackerPage extends Component {\n    render () {\n        return (\n            <>\n                <TransactionProvider>\n                    <Header />\n                    <History />\n                    <Transaction />\n                </TransactionProvider>\n            </>\n        )\n    }\n}\n","import React from 'react';\n\nimport './App.css'\n\n// Pages\nimport { TrackerPage } from './components/TrackerPage'\n\nfunction App() {\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<TrackerPage />\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}