{"version":3,"sources":["components/Expense/x.svg","context/TransactionReducer.js","context/TransactionContext.js","components/Expenses/index.js","components/Header/index.js","components/Expense/index.js","components/History/index.js","components/Transaction/index.js","components/LogOut/index.js","components/TrackerPage.js","components/LogIn/index.js","App.js","index.js"],"names":["module","exports","state","action","type","console","log","payload","transactions","filter","transaction","_id","error","initialState","TransactionContext","createContext","TransactionProvider","children","useReducer","TransactionReducer","dispatch","config","headers","userId","a","axios","post","res","data","JSON","parse","response","delete","Provider","value","getTransactions","deleteTransaction","addTransaction","Expenses","props","className","reduce","prev","curr","amount","Header","useContext","length","Expense","name","useState","closeButtonState","setCloseButtonState","user","useAuth0","onClick","sub","src","X","alt","charAt","toUpperCase","slice","monthsList","History","useEffect","lastDate","map","toShowDate","createdAt","key","Transaction","text","setText","money","setMoney","htmlFor","id","placeholder","onChange","e","target","autoComplete","autoCorrect","autoCapitalize","spellCheck","Date","getMonth","getFullYear","LogOut","logout","TrackerPage","Component","LogIn","loginWithRedirect","App","isAuthenticated","ReactDOM","render","domain","process","clientId","redirectUri","window","location","origin","document","getElementById"],"mappings":"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","file":"static/js/main.330268f0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/x.6a132b94.svg\";","export default (state, action) => {\n    switch (action.type) {\n        case 'GET':\n            console.log(action.payload)\n            return {\n                ...state,\n                transactions: action.payload\n            }\n        case 'DELETE':\n            return {\n                ...state,\n                transactions: state.transactions.filter(transaction => transaction._id !== action.payload)\n            }\n        case 'ADD':\n            console.log ({\n                ...state,\n                transactions: [\n                    action.payload,\n                    ...state.transactions\n                ]\n            })\n            return {\n                ...state,\n                transactions: [\n                    action.payload,\n                    ...state.transactions\n                ]\n            }\n        case 'ERROR':\n            return {\n                ...state,\n                error: action.payload\n            }\n        default:\n            return state\n    }\n}","import React, { createContext, useReducer } from 'react'\nimport TransactionReducer from './TransactionReducer'\nimport axios from 'axios'\n\n// Transaction List\nconst initialState = {\n    transactions: [],\n    error: null\n}\n\nexport const TransactionContext = createContext()\n\nexport const TransactionProvider = ({ children }) => {\n    const [state, dispatch] = useReducer(TransactionReducer, initialState)\n\n    const config = {\n        headers: {\n            'Content-type': 'application/json'\n        }\n    }\n\n    // Actions\n    async function getTransactions (userId) {\n        try {\n            const res = await axios.post('/api/v1/transactions/', { userId }, config)\n\n            if (res.data.data)\n                dispatch({\n                    type: 'GET',\n                    payload: JSON.parse(res.data.data.transactions)\n                })\n\n        } catch (err) {\n            dispatch({\n                type: 'ERROR',\n                payload: err.response.data.error\n            })\n        }\n    }\n\n    async function deleteTransaction (userId, _id) {\n        try {\n            await axios.delete(`/api/v1/transactions/${userId}/${_id}`)\n\n            dispatch({\n                type: 'DELETE',\n                payload: _id\n            })\n        } catch (err) {\n            dispatch({\n                type: 'ERROR',\n                payload: err.response.data.error\n            })\n        }\n    }\n\n    async function addTransaction (transaction) {\n        try {\n            const res = await axios.post('/api/v1/transactions/new-transaction', transaction, config)\n\n            dispatch({\n                type: 'ADD',\n                payload: res.data.data\n            })\n        } catch (err) {\n            dispatch({\n                type: 'ERROR',\n                payload: err.response.data.error\n            })\n        }\n    }\n\n    return (\n        <TransactionContext.Provider value={{\n            transactions: state.transactions,\n            getTransactions,\n            deleteTransaction,\n            addTransaction\n        }}>\n            { children }\n        </TransactionContext.Provider>\n    )\n}","import React from 'react'\nimport './Expenses.css'\n\nexport const Expenses = (props) => {\n    return (\n        <div className=\"expensesBlock\">\n            <div className=\"amountOfMoney\">\n                <span>Income</span>\n                <p className=\"earned\">+₴{\n                        props.transactions.reduce((prev, curr) => {\n                            if (curr.amount > 0)\n                                    return prev + curr.amount\n                            return prev\n                        }, 0)\n                }</p>   \n            </div>\n            <div className=\"dividerBlock\"></div>\n            <div className=\"amountOfMoney\">\n                <span>Expense</span>\n                <p className=\"spent\">-₴{\n                    -props.transactions.reduce((prev, curr) => {\n                        if (curr.amount < 0)\n                            return prev + curr.amount\n                        return prev < 0 ? prev : 0\n                    }, 0)\n                }</p>\n            </div>\n        </div>\n    )\n}\n","import React, { useContext } from 'react'\nimport './Header.css'\n\nimport { Expenses } from '../Expenses'\n\n// Context Import\nimport { TransactionContext } from '../../context/TransactionContext'\n\nexport const Header = () => {\n    const { transactions } = useContext(TransactionContext)\n\n    return (\n        <header>\n            <div className=\"expensesInfo\">\n                <h1>₴{ transactions.reduce((prev, curr) => {\n                    return prev + curr.amount\n                }, 0) }</h1>\n                <p>Records: { transactions.length }</p>\n            </div>\n\n            <Expenses transactions={ transactions }/>\n        </header>\n    )\n}","import React, { useState, useContext } from 'react'\nimport { useAuth0 } from '@auth0/auth0-react'\nimport './Expense.css'\nimport X from './x.svg'\n\n// Context Import\nimport { TransactionContext } from '../../context/TransactionContext'\n\nexport const Expense = ({ name, amount, _id }) => {\n    const [closeButtonState, setCloseButtonState] = useState(false)\n\n    const { user } = useAuth0()\n    const { deleteTransaction } = useContext(TransactionContext)\n\n    return (\n        <div className={`expenseBlock ${closeButtonState ? 'toClose' : ''}`} >\n            <div className=\"removeItem\" onClick={ () => {\n                setCloseButtonState(false)\n                deleteTransaction(user.sub, _id)\n            }}>\n                <img src={X} alt=\"X\" />\n            </div>\n            <div className={`expenseItem__block ${(amount > 0) ? 'incomeItem' : 'expenseItem'}`} onClick={ () => setCloseButtonState(!closeButtonState) }>\n                <span>{ name.charAt(0).toUpperCase() + name.slice(1) }</span>\n                <span>{ amount > 0 ? `+₴${ amount }` : `-₴${ -amount }` }</span>\n            </div>\n        </div>\n    )\n}\n","import React, { useContext, useEffect } from 'react'\nimport { useAuth0 } from '@auth0/auth0-react'\nimport './History.css'\n\n// Components\nimport { Expense } from '../Expense'\n\n// Context Import\nimport { TransactionContext } from '../../context/TransactionContext'\n\n// Months\nconst monthsList = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n\nexport const History = () => {\n    const { transactions, getTransactions } = useContext(TransactionContext)\n    const { user } = useAuth0()\n\n    // eslint-disable-next-line\n    useEffect(() => {\n        if (user)\n            getTransactions(user.sub)\n    }, []) // It slows down when `getTransactions in here`\n\n    let lastDate = [-1, -1]\n\n    return (\n        <div className=\"historyBlock sectionBlock\">\n            <h2>History</h2>\n\n            <div className=\"expensesList\">\n                {\n                    transactions.map(transaction => {\n                        let toShowDate = false\n                        if (transaction.createdAt[0] !== lastDate[0] || transaction.createdAt[1] !== lastDate[1])\n                        {\n                            lastDate = transaction.createdAt\n                            toShowDate = true\n                        }\n\n                        return (\n                            <span key={transaction._id}>\n                                <h4>{ toShowDate ? monthsList[transaction.createdAt[0]] : '' }</h4>\n                                <Expense name={ transaction.name } amount={ transaction.amount } _id={ transaction._id } />\n                            </span>\n                        )\n                    })\n                }\n            </div>\n        </div>\n    )\n}\n","import React, { useState, useContext } from 'react'\nimport './Transaction.css'\n\n// Context Import\nimport { TransactionContext } from '../../context/TransactionContext'\nimport { useAuth0 } from '@auth0/auth0-react'\n\nexport const Transaction = () => {\n    const { addTransaction } = useContext(TransactionContext)\n    const { user } = useAuth0()\n\n    const [text, setText] = useState('')\n    const [money, setMoney] = useState('')\n\n    const newTransaction = () => {\n        addTransaction({\n            name: text,\n            amount: +money,\n            createdAt: [new Date().getMonth(), new Date().getFullYear()],\n            userId: user.sub\n        })\n\n        setText('')\n        setMoney('')\n    }\n\n    return (\n        <div className=\"transactionBlock sectionBlock\">\n            <h2>Transaction</h2>\n\n            <label htmlFor=\"transactionText\">\n                Text\n            </label>\n            <input type=\"text\" name=\"transactionText\" id=\"transactionText\" placeholder=\"Text...\" value={ text } onChange={ e => setText(e.target.value) } autoComplete=\"off\" autoCorrect=\"off\" autoCapitalize=\"off\" spellCheck=\"false\" />\n\n            <label htmlFor=\"transactionMoney\">\n                Amount\n            </label>\n            <input type=\"number\" name=\"transcationMoney\" id=\"transactionMoney\" placeholder=\"Amount...\" value={ money } onChange={ e => setMoney(e.target.value) } />\n\n            <button onClick={ e => newTransaction() }>Add Transaction</button>\n        </div>\n    )\n}\n","import React from 'react'\nimport { useAuth0 } from '@auth0/auth0-react'\nimport './LogOut.css'\n\nexport const LogOut = () => {\n    const { logout } = useAuth0()\n    return (\n        <button className=\"logOutButton\" onClick={ () => logout() }>\n            Log Out\n        </button>\n    )\n}\n","import React, { Component } from 'react'\n\n// Context Import\nimport { TransactionProvider } from '../context/TransactionContext'\n\n// Components Import\nimport { Header } from './Header'\nimport { History } from './History'\nimport { Transaction } from './Transaction'\nimport { LogOut } from '../components/LogOut'\n\nexport class TrackerPage extends Component {\n    render () {\n        return (\n            <>\n                <TransactionProvider>\n                    <Header />\n                    <History />\n                    <Transaction />\n                    <LogOut />\n                </TransactionProvider>\n            </>\n        )\n    }\n}\n","import React from 'react'\nimport { useAuth0 } from '@auth0/auth0-react'\n\nimport './LogIn.css'\n\nexport const LogIn = () => {\n    const { loginWithRedirect } = useAuth0()\n\n    return (\n        <button className=\"logInButton\" onClick={ () => loginWithRedirect() }>\n            Log in\n        </button>\n    )\n}\n","import React from 'react';\nimport './App.css'\n\nimport { useAuth0 } from '@auth0/auth0-react'\n\n// Pages\nimport { TrackerPage } from './components/TrackerPage'\n\n// Components\nimport { LogIn } from './components/LogIn'\n\nfunction App() {\n\tconst { isAuthenticated } = useAuth0()\n\n\tif (!isAuthenticated) return <LogIn />\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<TrackerPage />\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Auth0Provider } from '@auth0/auth0-react'\nimport App from './App';\n\nimport './index.css'\n\nconst domain = process.env.REACT_APP_AUTH0_DOMAIN\nconst clientId = process.env.REACT_APP_AUTH0_CLIENT_ID\n\nReactDOM.render(\n  <Auth0Provider domain={domain} clientId={clientId} redirectUri={window.location.origin}>\n    <App />\n  </Auth0Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}